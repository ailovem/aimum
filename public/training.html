<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŠ€èƒ½è®­ç»ƒ - AImum</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --primary: #6366f1;
      --accent: #22d3ee;
      --success: #10b981;
      --warning: #f59e0b;
      --bg: #0a0a0f;
      --bg-card: #111118;
      --bg-card-hover: #1a1a24;
      --text: #f4f4f5;
      --text-dim: #71717a;
      --border: rgba(255,255,255,0.08);
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 24px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    
    .back-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      cursor: pointer;
      font-size: 14px;
    }
    
    .title {
      font-size: 20px;
      font-weight: 600;
    }
    
    /* è®­ç»ƒç±»å‹ */
    .training-types {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
      margin-bottom: 24px;
    }
    
    .training-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .training-card:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
    }
    
    .training-card.active {
      border-color: var(--primary);
      background: rgba(99, 102, 241, 0.1);
    }
    
    .training-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      margin-bottom: 16px;
    }
    
    .training-name {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 8px;
    }
    
    .training-desc {
      font-size: 13px;
      color: var(--text-dim);
      line-height: 1.6;
    }
    
    /* è®­ç»ƒè¡¨å• */
    .training-form {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
    }
    
    .form-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--text-dim);
    }
    
    .form-input {
      width: 100%;
      padding: 12px 16px;
      background: var(--bg-card-hover);
      border: 1px solid var(--border);
      border-radius: 10px;
      color: var(--text);
      font-size: 14px;
      transition: all 0.2s;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    .form-textarea {
      min-height: 120px;
      resize: vertical;
    }
    
    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2371717a' d='M6 8L1 3h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      padding-right: 40px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    
    /* ç¤ºä¾‹æ•°æ® */
    .examples {
      margin-bottom: 20px;
    }
    
    .examples-title {
      font-size: 12px;
      color: var(--text-dim);
      margin-bottom: 10px;
    }
    
    .example-btns {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    
    .example-btn {
      padding: 6px 12px;
      background: var(--bg-card-hover);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-dim);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .example-btn:hover {
      border-color: var(--primary);
      color: var(--text);
    }
    
    /* è®­ç»ƒæŒ‰é’® */
    .train-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border: none;
      border-radius: 12px;
      color: white;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .train-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
    }
    
    .train-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    /* è®­ç»ƒçŠ¶æ€ */
    .training-status {
      display: none;
      background: var(--bg-card-hover);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      margin-top: 20px;
    }
    
    .training-status.show {
      display: block;
    }
    
    .status-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 16px;
    }
    
    .status-icon {
      font-size: 24px;
    }
    
    .status-title {
      font-size: 14px;
      font-weight: 600;
    }
    
    .status-step {
      font-size: 12px;
      color: var(--text-dim);
    }
    
    .progress-bar {
      height: 8px;
      background: var(--bg);
      border-radius: 4px;
      overflow: hidden;
      margin-bottom: 16px;
    }
    
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--accent));
      border-radius: 4px;
      transition: width 0.3s;
    }
    
    .status-log {
      background: var(--bg-card);
      border-radius: 8px;
      padding: 12px;
      font-size: 12px;
      font-family: 'Monaco', monospace;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .log-item {
      padding: 4px 0;
      color: var(--text-dim);
    }
    
    .log-item.success {
      color: var(--success);
    }
    
    .log-item.error {
      color: #ef4444;
    }
    
    /* å†å²è®­ç»ƒ */
    .training-history {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 24px;
      margin-top: 24px;
    }
    
    .history-title {
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .history-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: var(--bg-card-hover);
      border-radius: 10px;
      margin-bottom: 8px;
    }
    
    .history-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    
    .history-info {
      flex: 1;
    }
    
    .history-name {
      font-size: 13px;
      font-weight: 500;
    }
    
    .history-time {
      font-size: 11px;
      color: var(--text-dim);
    }
    
    .history-status {
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 11px;
    }
    
    .history-status.success {
      background: rgba(16, 185, 129, 0.1);
      color: var(--success);
    }
    
    .history-status.training {
      background: rgba(99, 102, 241, 0.1);
      color: var(--primary);
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <button class="back-btn" onclick="location.href='core.html'">
        â† è¿”å›
      </button>
      <h1 class="title">ğŸ‹ï¸ æŠ€èƒ½è®­ç»ƒ</h1>
      <div></div>
    </header>
    
    <!-- è®­ç»ƒç±»å‹ -->
    <div class="training-types">
      <div class="training-card active" onclick="selectType('command', this)">
        <div class="training-icon">ğŸ’¬</div>
        <div class="training-name">å‘½ä»¤è®­ç»ƒ</div>
        <div class="training-desc">è®­ç»ƒ AI ç†è§£æ–°çš„è‡ªç„¶è¯­è¨€å‘½ä»¤ï¼Œè‡ªåŠ¨ç”Ÿæˆä»»åŠ¡æµç¨‹</div>
      </div>
      
      <div class="training-card" onclick="selectType('template', this)">
        <div class="training-icon">ğŸ“</div>
        <div class="training-name">æ¨¡æ¿è®­ç»ƒ</div>
        <div class="training-desc">åˆ›å»ºå’Œè®­ç»ƒè‡ªå®šä¹‰ä»»åŠ¡æ¨¡æ¿ï¼Œå®šä¹‰å›ºå®šæµç¨‹å’Œå‚æ•°</div>
      </div>
      
      <div class="training-card" onclick="selectType('workflow', this)">
        <div class="training-icon">ğŸ”„</div>
        <div class="training-name">å·¥ä½œæµè®­ç»ƒ</div>
        <div class="training-desc">è®­ç»ƒå¤æ‚çš„å¤šæ­¥éª¤å·¥ä½œæµï¼Œå¤„ç†æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯</div>
      </div>
      
      <div class="training-card" onclick="selectType('api', this)">
        <div class="training-icon">ğŸ”—</div>
        <div class="training-name">API è®­ç»ƒ</div>
        <div class="training-desc">å­¦ä¹ å¯¹æ¥æ–°çš„ API æ¥å£ï¼Œæ‰©å±•å·¥å…·èƒ½åŠ›</div>
      </div>
    </div>
    
    <!-- è®­ç»ƒè¡¨å• -->
    <div class="training-form">
      <div class="form-title">
        <span id="formIcon">ğŸ’¬</span>
        <span id="formTitle">å‘½ä»¤è®­ç»ƒ</span>
      </div>
      
      <div class="form-group">
        <label class="form-label">æŠ€èƒ½åç§°</label>
        <input type="text" class="form-input" id="skillName" placeholder="ç»™ä½ çš„æ–°æŠ€èƒ½èµ·ä¸ªåå­—">
      </div>
      
      <div class="form-group">
        <label class="form-label">å‘½ä»¤ç¤ºä¾‹ï¼ˆè®­ç»ƒæ•°æ®ï¼‰</label>
        <textarea class="form-input form-textarea" id="commandExamples" placeholder="è¾“å…¥å¤šä¸ªå‘½ä»¤ç¤ºä¾‹ï¼Œæ¯è¡Œä¸€ä¸ªï¼Œç”¨äºè®­ç»ƒ AI ç†è§£"></textarea>
        <div class="examples" style="margin-top: 10px;">
          <div class="examples-title">ğŸ’¡ å¿«é€Ÿç¤ºä¾‹ï¼š</div>
          <div class="example-btns">
            <button class="example-btn" onclick="loadExample('æ•´ç†æ¡Œé¢æ–‡ä»¶')">æ•´ç†æ¡Œé¢</button>
            <button class="example-btn" onclick="loadExample('æœç´¢AIæ–°é—»å¹¶æ€»ç»“')">æœç´¢å¹¶æ€»ç»“</button>
            <button class="example-btn" onclick="loadExample('åˆ†æé”€å”®æ•°æ®æŠ¥å‘Š')">åˆ†ææŠ¥å‘Š</button>
            <button class="example-btn" onclick="loadExample('å†™é‚®ä»¶ç»™å®¢æˆ·')">å†™é‚®ä»¶</button>
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label class="form-label">é¢„æœŸè¡Œä¸ºæè¿°</label>
        <textarea class="form-input form-textarea" id="expectedBehavior" placeholder="æè¿°ä½ å¸Œæœ› AI å¦‚ä½•æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œè¶Šè¯¦ç»†è¶Šå¥½"></textarea>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label class="form-label">åˆ†ç±»</label>
          <select class="form-input form-select" id="skillCategory">
            <option value="tool">å·¥å…·ç±»</option>
            <option value="communication">æ²Ÿé€šç±»</option>
            <option value="analysis">åˆ†æç±»</option>
            <option value="automation">è‡ªåŠ¨åŒ–</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">éš¾åº¦çº§åˆ«</label>
          <select class="form-input form-select" id="skillLevel">
            <option value="easy">ç®€å•</option>
            <option value="medium" selected>ä¸­ç­‰</option>
            <option value="hard">å¤æ‚</option>
          </select>
        </div>
      </div>
      
      <button class="train-btn" id="trainBtn" onclick="startTraining()">
        ğŸš€ å¼€å§‹è®­ç»ƒ
      </button>
      
      <!-- è®­ç»ƒçŠ¶æ€ -->
      <div class="training-status" id="trainingStatus">
        <div class="status-header">
          <span class="status-icon" id="statusIcon">âš¡</span>
          <div>
            <div class="status-title" id="statusTitle">è®­ç»ƒä¸­...</div>
            <div class="status-step" id="statusStep">æ­£åœ¨åˆ†æè®­ç»ƒæ•°æ®</div>
          </div>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div class="status-log" id="statusLog"></div>
      </div>
    </div>
    
    <!-- å†å²è®­ç»ƒ -->
    <div class="training-history">
      <div class="history-title">
        ğŸ“œ è®­ç»ƒå†å²
      </div>
      <div id="historyList">
        <div class="history-item">
          <div class="history-icon">ğŸ“</div>
          <div class="history-info">
            <div class="history-name">æ–‡ä»¶æ•´ç†ä¸“å®¶</div>
            <div class="history-time">ä»Šå¤© 14:30 Â· ç”¨æ—¶ 2åˆ†30ç§’</div>
          </div>
          <span class="history-status success">âœ… å®Œæˆ</span>
        </div>
        <div class="history-item">
          <div class="history-icon">ğŸ“Š</div>
          <div class="history-info">
            <div class="history-name">æ•°æ®æŠ¥å‘Šç”Ÿæˆå™¨</div>
            <div class="history-time">æ˜¨å¤© 10:15 Â· ç”¨æ—¶ 5åˆ†12ç§’</div>
          </div>
          <span class="history-status success">âœ… å®Œæˆ</span>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    let currentType = 'command';
    let trainingLogs = [];
    
    const typeConfig = {
      command: {
        icon: 'ğŸ’¬',
        title: 'å‘½ä»¤è®­ç»ƒ',
        namePlaceholder: 'ç»™æ–°å‘½ä»¤èµ·ä¸ªåå­—',
        examplePlaceholder: 'è¾“å…¥ä½ å¸Œæœ› AI ç†è§£çš„å‘½ä»¤ï¼Œæ¯è¡Œä¸€ä¸ª'
      },
      template: {
        icon: 'ğŸ“',
        title: 'æ¨¡æ¿è®­ç»ƒ',
        namePlaceholder: 'ç»™æ¨¡æ¿èµ·ä¸ªåå­—',
        examplePlaceholder: 'è¾“å…¥æ¨¡æ¿çš„ä½¿ç”¨åœºæ™¯å’Œç¤ºä¾‹'
      },
      workflow: {
        icon: 'ğŸ”„',
        title: 'å·¥ä½œæµè®­ç»ƒ',
        namePlaceholder: 'ç»™å·¥ä½œæµèµ·ä¸ªåå­—',
        examplePlaceholder: 'æè¿°å·¥ä½œæµçš„æ­¥éª¤å’Œæ¡ä»¶'
      },
      api: {
        icon: 'ğŸ”—',
        title: 'API è®­ç»ƒ',
        namePlaceholder: 'ç»™ API æŠ€èƒ½èµ·ä¸ªåå­—',
        examplePlaceholder: 'æè¿° API çš„ç”¨é€”å’Œä½¿ç”¨æ–¹å¼'
      }
    };
    
    function selectType(type, card) {
      currentType = type;
      document.querySelectorAll('.training-card').forEach(c => c.classList.remove('active'));
      card.classList.add('active');
      
      const config = typeConfig[type];
      document.getElementById('formIcon').textContent = config.icon;
      document.getElementById('formTitle').textContent = config.title;
      document.getElementById('skillName').placeholder = config.namePlaceholder;
      document.getElementById('commandExamples').placeholder = config.examplePlaceholder;
    }
    
    function loadExample(text) {
      const textarea = document.getElementById('commandExamples');
      if (textarea.value) {
        textarea.value += '\n' + text;
      } else {
        textarea.value = text;
      }
    }
    
    function addLog(message, type = 'normal') {
      const log = document.getElementById('statusLog');
      const time = new Date().toLocaleTimeString('zh-CN', { hour12: false });
      const className = type === 'success' ? 'success' : type === 'error' ? 'error' : '';
      log.innerHTML += `<div class="log-item ${className}">[${time}] ${message}</div>`;
      log.scrollTop = log.scrollHeight;
    }
    
    function startTraining() {
      const name = document.getElementById('skillName').value.trim();
      const examples = document.getElementById('commandExamples').value.trim();
      const behavior = document.getElementById('expectedBehavior').value.trim();
      
      if (!name || !examples) {
        alert('è¯·å¡«å†™æŠ€èƒ½åç§°å’Œå‘½ä»¤ç¤ºä¾‹ï¼');
        return;
      }
      
      const btn = document.getElementById('trainBtn');
      const status = document.getElementById('trainingStatus');
      
      btn.disabled = true;
      btn.textContent = 'è®­ç»ƒä¸­...';
      status.classList.add('show');
      
      document.getElementById('progressFill').style.width = '0%';
      document.getElementById('statusLog').innerHTML = '';
      
      const steps = [
        { progress: 20, msg: 'è§£æè®­ç»ƒæ•°æ®...', duration: 800 },
        { progress: 40, msg: 'æå–ç‰¹å¾å‘é‡...', duration: 600 },
        { progress: 60, msg: 'æ„å»ºè¯­è¨€æ¨¡å‹...', duration: 1000 },
        { progress: 80, msg: 'ä¼˜åŒ–å‚æ•°...', duration: 800 },
        { progress: 100, msg: 'ä¿å­˜æ¨¡å‹...', duration: 500 }
      ];
      
      let stepIndex = 0;
      
      function runNextStep() {
        if (stepIndex >= steps.length) {
          finishTraining(name);
          return;
        }
        
        const step = steps[stepIndex];
        document.getElementById('progressFill').style.width = step.progress + '%';
        document.getElementById('statusStep').textContent = step.msg;
        addLog(step.msg);
        
        stepIndex++;
        setTimeout(runNextStep, step.duration);
      }
      
      addLog(`å¼€å§‹è®­ç»ƒæ–°æŠ€èƒ½: ${name}`, 'success');
      setTimeout(runNextStep, 500);
    }
    
    function finishTraining(name) {
      document.getElementById('statusIcon').textContent = 'âœ…';
      document.getElementById('statusTitle').textContent = 'è®­ç»ƒå®Œæˆï¼';
      document.getElementById('statusStep').textContent = 'æ–°æŠ€èƒ½å·²æ·»åŠ åˆ°ä½ çš„æŠ€èƒ½åº“';
      addLog(`âœ… æŠ€èƒ½ "${name}" è®­ç»ƒå®Œæˆï¼`, 'success');
      
      const btn = document.getElementById('trainBtn');
      btn.disabled = false;
      btn.textContent = 'ğŸš€ å†è®­ç»ƒä¸€ä¸ª';
      
      // æ·»åŠ åˆ°å†å²
      addToHistory(name);
    }
    
    function addToHistory(name) {
      const icon = typeConfig[currentType].icon;
      const historyList = document.getElementById('historyList');
      const time = new Date().toLocaleTimeString('zh-CN', { hour12: false });
      
      const item = document.createElement('div');
      item.className = 'history-item';
      item.innerHTML = `
        <div class="history-icon">${icon}</div>
        <div class="history-info">
          <div class="history-name">${name}</div>
          <div class="history-time">ä»Šå¤© ${time} Â· ç”¨æ—¶ éšæœº</div>
        </div>
        <span class="history-status success">âœ… å®Œæˆ</span>
      `;
      
      historyList.insertBefore(item, historyList.firstChild);
    }
  </script>
</body>
</html>
